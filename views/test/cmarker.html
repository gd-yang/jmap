<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>地图demo</title>
    <link href="/css/leaflet/leaflet.css" type="text/css" rel="stylesheet"/>
    <script src="/js/leaflet/leaflet-src.js"></script>
    <script src="/js/leaflet/leaflet.plotter.js"></script>
    <style>
        html,body{padding:0;margin:0;height:100%;}
        #map{height:100%;}
    </style>
</head>

<body>
<div id="map"></div>
<script>
    var map = L.map('map', {
        center: [51.505, -0.09],
        zoom: 13
    });

    L.tileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {
        attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://cloudmade.com">CloudMade</a>',
        maxZoom: 18
    }).addTo(map);

    var c = L.circle([51.505, -0.09], 200).addTo(map);
    c.setRadius(600);

    c.on('click', function(){
        this.setRadius(450);
        console.log(this.toGeoJSON())
    });

    var cm = L.circleMarker([51.505, -0.08]).addTo(map);

    map.on('click', function(e){
        console.info(e.latlng);
        cm.setLatLng(e.latlng);
    });
</script>
</body>
</html>